# Supabase PostgreSQL (schema=phase2)
DATABASE_URL=postgresql://postgres.fnqenhcpdmhzndefbvnw:<password>@aws-1-ap-southeast-2.pooler.supabase.com:6543/postgres?options=-csearch_path=phase2
DIRECT_URL=postgresql://postgres.fnqenhcpdmhzndefbvnw:<password>@aws-1-ap-southeast-2.pooler.supabase.com:5432/postgres?options=-csearch_path=phase2

# Raw file storage path
RAW_STORAGE_PATH=./data/raw
BULK_ROOT_PATH=./data/bulk

# Supabase Storage (evidence snapshots)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_STORAGE_BUCKET=evidence
SUPABASE_STORAGE_PUBLIC_URL=https://your-project.supabase.co/storage/v1/object/public
SUPABASE_PATENT_RAW_BUCKET=patent-raw

# JPO API (optional)
JPO_API_BASE_URL=
JPO_API_KEY=
JPO_API_TIMEOUT_SECONDS=30

# Logging
LOG_LEVEL=INFO

# API settings
API_HOST=0.0.0.0
API_PORT=8000

# LLM Provider (openai or anthropic)
LLM_PROVIDER=openai

# OpenAI settings
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4o-mini

# Anthropic settings (if using anthropic provider)
ANTHROPIC_API_KEY=sk-ant-xxx
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Prompts directory
PROMPTS_DIR=./prompts

# Cron secret (for Vercel Cron authentication)
CRON_SECRET=your-secret-here

# Safety toggles
ALLOW_SCHEMA_INIT=false

# JP Index export controls
JP_INDEX_EXPORT_ENABLED=true
JP_INDEX_EXPORT_MAX=10000
JP_INDEX_EXPORT_TOKEN=

# JP Index rate limit / cache
JP_INDEX_RATE_LIMIT_PER_MINUTE=120
JP_INDEX_CACHE_TTL_SECONDS=60
JP_INDEX_CACHE_MAX_ENTRIES=1000

# Company data sources
NTA_CORPORATE_ENCODING=utf-8
# Set GBIZINFO_API_BASE_URL to the corporate-number endpoint in the Swagger UI (v2).
GBIZINFO_API_BASE_URL=
GBIZINFO_API_KEY=
GBIZINFO_API_KEY_HEADER=X-hojinInfo-api-token
# JSON mapping or file path to JSON
GBIZINFO_FIELD_MAP=./docs/gbizinfo_field_map.example.json
EDINET_API_BASE_URL=
EDINET_API_KEY=
EDINET_API_KEY_HEADER=Subscription-Key
# JSON mapping or file path to JSON
EDINET_FIELD_MAP=./docs/edinet_field_map.example.json
COLLECTION_USER_AGENT=iprich-phase2/1.0
